---
name: commit
description: git commit を作成する。「コミットして」「コミットしたい」など、ユーザーがコミットを依頼した時に使用する。
---

# コミット作成スキル

人間主体のコミットフローを実行する。

## コミットメッセージ規約

日本語でコミットメッセージを書く。

### 種類

- `add`: 新機能・ファイル追加
- `fix`: バグ・不具合の修正
- `update`: 既存機能の改善・変更（不具合ではないもの）
- `study`: 学習メモ・実験
- `refactor`: リファクタリング

### フォーマット

```
種類: 変更内容を一言で（50文字以内、体言止め）

（必要に応じて以下を記載）
- 変更の背景・理由
- 影響範囲や注意点
- 設計上の判断理由
```

## フロー

### ステップ1: ステージング確認

1. AskUserQuestion ツールで以下の通り確認する:
   - question: 「ステージングは完了しましたか？」
   - header: 「ステージング」
   - 選択肢1: label「ステージング完了」、description「コミットするファイルをgit addでステージしました」
   - 選択肢2: label「キャンセル」、description「コミットをキャンセルします」
2. 「ステージング完了」が選択されたら次へ進む
3. 「キャンセル」が選択されたら処理を中止する

### ステップ2: コミットメッセージの提案

1. `git diff --staged` の内容を基に、このファイルの「コミットメッセージ規約」に従ったコミットメッセージを提案する
2. AskUserQuestion ツールで以下の通り確認する:
   - question: 「このコミットメッセージでよろしいですか？内容確認はあなたの責務です。変更内容を正しく表しているか確認してください。」
   - header: 「メッセージ確認」
   - 選択肢1: label「このメッセージでコミット」、description「提案されたメッセージでコミットを実行します」
   - 選択肢2: label「修正が必要」、description「メッセージの修正を依頼します」
3. 「このメッセージでコミット」が選択されたらコミットを実行する
4. 「修正が必要」が選択されたらどのように変更すればよいか確認し、修正して再度ステップ2を繰り返す

## 注意事項

- `git add` はClaudeが実行しない（ステージングは常にユーザーが行う）
- コミットメッセージにクレジット表記（🤖 Generated with...、Co-Authored-By）を追加しない
